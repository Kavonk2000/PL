<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <script src="/js/dashboard.js" defer></script>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/dashboard">Dashboard</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </nav>
    </header>

    <div class="dashboard-container">
        <!-- Sidebar for navigation -->
        <aside>
            <ul>
                <li><button class="tab-btn" onclick="showTab('garage')">Garage</button></li>
                <li><button class="tab-btn" onclick="showTab('payments')">Payments</button></li>
                <li><button class="tab-btn" onclick="showTab('profile')">Profile</button></li>
            </ul>
        </aside>

        <!-- Main content area -->
        <main>
            <!-- Profile Tab -->
             
            <section id="profile-tab" class="tab-content profile-layout">
                <div class="profile-picture-container">
                    <img id="profile-picture" src="/images/default-profile.jpg" alt="Profile Picture" class="profile-pic" />
                    
                    <!-- Upload input is hidden until Edit Profile is clicked -->
                    <div id="picture-upload-section" style="display: none;">
                      <input type="file" id="profilePictureInput" name="profilePicture" accept="image/*" />
                      <button type="button" id="uploadPictureBtn">Upload</button>
                      <p id="upload-status" class="upload-status-message"></p>
                    </div>
                  </div>
              
                <div class="profile-right">
                  <h2>Profile Information</h2>
                                
                  <form id="update-profile-form" class="profile-form">
                    <div class="form-group">
                      <label>First Name:</label>
                      <span id="profile-name" class="display-text"> loading...</span>
                      <input type="text" id="first_name" class="edit-input" style="display: none;" />
                    </div>
                  
                    <div class="form-group">
                      <label>Last Name:</label>
                      <span id="last_name_display" class="display-text"></span>
                      <input type="text" id="last_name" class="edit-input" style="display: none;" />
                    </div>
                  
                    <div class="form-group">
                      <label>Email:</label>
                      <span id="profile-email" class="display-text"></span>
                      <input type="email" id="email" class="edit-input" style="display: none;" />
                    </div>
                  
                    <div class="form-group">
                      <label>Phone:</label>
                      <span id="profile-phone" class="display-text"></span>
                      <input type="text" id="phone" class="edit-input" style="display: none;" />
                    </div>
                  
                    <button type="button" id="edit-profile-btn">Edit Profile</button>
                    <button type="submit" id="save-profile-btn" style="display: none;">Save Changes</button>
                    <p id="update-message" class="update-message"></p>
                  </form>
                  
                  </div>
                </section>

            <!-- Payments Tab -->
            <section id="payments-tab" class="tab-content">
                <h2>Billing History</h2>
                <table id="payments-table">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Amount</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Rows will be injected by JS -->
                  </tbody>
                </table>
              
                <button id="pay-now-btn">Pay Now</button>
                <p id="payment-message" class="success-message"></p>
              </section>
              

            
            <!-- Garage Tab -->
             <section id="garage-tab" class="tab-content">
            <h2>My Garage</h2>
             <div class="garage-header">
                <button onclick="toggleViewMode()" id="toggle-view-btn">Switch to List View</button>
                <button onclick="showAddCarForm()">Add Car</button>
            </div>

            

            <div id="add-car-form" style="display: none;" class="car-form">
                <h3>Add New Car</h3>
                <input type="text" id="car-make" placeholder="Make" />
                <input type="text" id="car-model" placeholder="Model" />
                <input type="number" id="car-year" placeholder="Year" />
                <input type="text" id="car-color" placeholder="Color" />
                <input type="file" id="car-image" />
            <button onclick="submitNewCar()">Submit</button>
            </div>

            <div id="car-list" class="car-grid">
            <!-- Cars will be loaded dynamically here -->
            </div>


        </section>
  

    <footer>
        <p>&copy; 2025 Vongic Car Management System. All rights reserved.</p>
    </footer>
</body>
</html>
